global
    log stdout format raw local0
    stats socket /var/run/haproxy.sock mode 600 level admin

defaults
    log     global
    mode    http
    option  httplog
    timeout connect 5000ms
    timeout client  50000ms
    timeout server  50000ms

backend web
    balance roundrobin
    server srv1 192.168.1.10:8080 check
    server srv3 192.168.1.12:8080 check

backend api
    balance roundrobin
    server srv1 192.168.2.10:8080 check
    server srv2 192.168.2.11:8080 check

backend admin
    balance roundrobin
    server srv1 192.168.3.10:8080 check
